<head>
<style>
    html, body {
    background-color: rgb(0, 0, 0);
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden !important;
    }
    #r1 {
    width:50%;
    height:100%;    
    float: left;
    background-color: #2ba8d4;
    }
    #r2 {
    width:50%;
    height:100%;
    float:left;
    background-color: #D4572B;
    }
</style>
</head>

<body>
<div id="r1"></div>
<div id="r2"></div> 
</body>

<script type="text/javascript" src="http://get.goXTK.com/xtk_edge.js"></script>
<script type="text/javascript" src="http://get.goXTK.com/xtk_xdat.gui.js"></script>

<script type="text/javascript">

    window.onload = function() {

      // this gets called when the site is ready

      // create a new scene and renderer
      r = new X.renderer3D();
      r.container = 'r1';
      r.init();

      // create a cube and add it!
      c = new X.cube();
      r.add(c);
      
      

     
     r.camera.position = [0, 0, 100];

      // render everything!
     r.render();

    };
    var controller = {
        'threejs_color': 0xffffff,
        'rotateX': function() {
        c.transform.rotateX(20);
        cube.rotateX(20);
        },
        'rotateY': function() {
        c.transform.rotateY(20);
        cube.rotateY(20);
        },
        'rotateZ': function() {
        c.transform.rotateZ(20);
        cube.rotateZ(20);
        },
        
        'add new': function() {
            c1 = new X.cube();
            r.add(c1)
            c1.position(50, 50, 50)
            r.camera.position = [50, 50, 50];
            const scene = new THREE.Scene();


            var r2 = document.getElementById('r2');

            var ratio = r2.clientWidth / r2.clientHeight;
            var camera = new THREE.PerspectiveCamera(75, ratio, 0.1 , 1000);
            var renderer = new THREE.WebGLRenderer({antialias:true});
            renderer.setSize( r2.clientWidth, r2.clientHeight );
            r2.appendChild( renderer.domElement );

            const geometry = new THREE.BoxGeometry( 10, 10, 10 );
            const material = new THREE.MeshBasicMaterial( { color: 0x00ff01 } );
            const cube = new THREE.Mesh( geometry, material );
            scene.add( cube );
            camera.position.z = 50;
            function animate() {
				requestAnimationFrame( animate );

				
				renderer.render( scene, camera );
			};

	         animate();


        }



        };

    var gui = new dat.GUI();
    var trackgui = gui.addFolder('XTK');
    trackVisibleController = trackgui.add(c, 'visible');
    trackgui.open();
    
   
     
    var rhgui = gui.addFolder('XTK');
    rhgui.add(rh, 'visible');
    rhgui.add(rh, 'opacity', 0, 1);
    rhgui.addColor(rh, 'color');
    rhgui.open();

    

    

    </script>


<script type="text/javascript" src="https://github.com/mrdoob/three.js/blob/master/examples/js/controls/TrackballControls.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>

<script type="text/javascript" >
    const scene = new THREE.Scene();


    var r2 = document.getElementById('r2');

    var ratio = r2.clientWidth / r2.clientHeight;
    var camera = new THREE.PerspectiveCamera(75, ratio, 0.1 , 1000);
    var renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize( r2.clientWidth, r2.clientHeight );
    r2.appendChild( renderer.domElement );
    
    const geometry = new THREE.BoxGeometry( 10, 10, 10 );
	const material = new THREE.MeshBasicMaterial( { color: 0x00ff01 } );
	const cube = new THREE.Mesh( geometry, material );
	scene.add( cube );

	camera.position.z = 50;
    function animate() {
				requestAnimationFrame( animate );

				
				renderer.render( scene, camera );
			};

	animate();

    var threejsUI = gui.addFolder('Three.js Cube');
    threejsUI.add(cube, 'visible');
    threejsUI.add(cube.material, 'opacity', 0, 1).onChange( function() {
    cube.material.transparent = true;
    });
    threejsUI.addColor(controller, 'threejs_color').onChange( function() {
    cube.material.color.set( controller.threejs_color );
    } );
    threejsUI.open();


    var both = gui.addFolder('Both Cubes');
    both.add(controller, 'rotateX');
    both.add(controller, 'rotateY');
    both.add(controller, 'rotateZ');
    both.add(controller, 'add new');
    both.open();

    

   


</script>
